<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UPSC Polity PYQ Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: "Bureaucratic Slate" - Professional Blue-Grays, Clean White, Success Green, Error Red -->
    <!-- Application Structure Plan:
        1. Start Screen: Title, Brief instructions, "Start Quiz" button.
        2. Quiz Interface:
           - Progress Bar: Visual indicator of progress.
           - Question Card: The question text and options.
           - Interaction: User selects option -> Clicks "Check" -> System highlights Correct/Incorrect and reveals Explanation.
           - Navigation: "Next" button appears after checking.
        3. Result Screen:
           - Score Summary.
           - Donut Chart (Chart.js) visualizing accuracy.
           - "Retake" button.
        This flow is designed to mimic a study session where understanding the 'why' (explanation) is more important than just speed.
    -->
    <!-- Visualization & Content Choices:
        - Content: 7 high-yield UPSC PYQs. Goal: Test concepts. Viz: Text/Interactive Form.
        - Visualization: Score Donut Chart. Goal: Quick performance summary. Viz: Chart.js Canvas. Interaction: Hover details.
        - Interaction: Selection highlighting. Goal: Clear user feedback. Method: Tailwind Utility classes (ring, bg-color).
        - Icons: Standard Unicode (‚úì, ‚úó, ‚ûú) to keep it lightweight and SVG-free.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        .option-card {
            transition: all 0.2s ease-in-out;
        }
        .option-card:hover:not(.disabled) {
            background-color: #f3f4f6;
            cursor: pointer;
        }
        .option-card.selected {
            border-color: #4f46e5;
            background-color: #eef2ff;
            box-shadow: 0 0 0 2px #4f46e5;
        }
        .option-card.correct {
            border-color: #10b981;
            background-color: #d1fae5;
        }
        .option-card.wrong {
            border-color: #ef4444;
            background-color: #fee2e2;
        }
        .disabled {
            pointer-events: none;
            opacity: 0.9;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans text-gray-800 min-h-screen flex items-center justify-center p-4">

    <!-- Main Container -->
    <div class="w-full max-w-2xl bg-white rounded-xl shadow-lg overflow-hidden min-h-[500px] flex flex-col relative">
        
        <!-- Header -->
        <header class="bg-slate-800 text-white p-4 flex justify-between items-center">
            <h1 class="font-bold text-lg tracking-wide">UPSC PRELIMS: POLITY</h1>
            <span id="header-badge" class="text-xs bg-slate-600 px-2 py-1 rounded hidden">PYQ Series</span>
        </header>

        <!-- View: Start Screen -->
        <div id="start-screen" class="flex-1 flex flex-col items-center justify-center p-8 text-center space-y-6">
            <div class="text-6xl mb-2">üèõÔ∏è</div>
            <h2 class="text-2xl font-bold text-slate-800">Indian Polity & Constitution</h2>
            <p class="text-gray-600 max-w-md">Test your knowledge with previous year questions (PYQs) covering the Preamble, Fundamental Rights, and Parliamentary System.</p>
            
            <div class="bg-blue-50 p-4 rounded-lg text-sm text-left w-full max-w-sm border border-blue-100">
                <p class="font-semibold text-blue-800 mb-2">Quiz Details:</p>
                <ul class="list-disc list-inside text-blue-700 space-y-1">
                    <li>7 Selected Questions</li>
                    <li>Instant Explanations</li>
                    <li>No Negative Marking (Practice Mode)</li>
                </ul>
            </div>

            <button onclick="quizApp.startQuiz()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-8 rounded-full transition-transform transform hover:scale-105 shadow-md">
                Start Quiz
            </button>
        </div>

        <!-- View: Quiz Screen -->
        <div id="quiz-screen" class="hidden flex-1 flex flex-col">
            <!-- Progress Bar -->
            <div class="w-full bg-gray-200 h-2">
                <div id="progress-bar" class="bg-indigo-600 h-2 transition-all duration-300" style="width: 0%"></div>
            </div>
            
            <div class="p-6 md:p-8 flex-1 flex flex-col overflow-y-auto">
                <div class="flex justify-between items-center mb-4 text-sm text-gray-500 font-medium">
                    <span id="question-counter">Question 1/5</span>
                    <span id="score-display" class="text-indigo-600">Score: 0</span>
                </div>

                <!-- Question Text -->
                <h3 id="question-text" class="text-lg md:text-xl font-semibold text-gray-900 mb-6 leading-relaxed">
                    <!-- Question goes here -->
                </h3>

                <!-- Options Grid -->
                <div id="options-container" class="space-y-3 mb-6">
                    <!-- Options injected via JS -->
                </div>

                <!-- Explanation Box (Hidden initially) -->
                <div id="explanation-box" class="hidden bg-slate-50 border-l-4 border-slate-500 p-4 rounded-r text-sm text-slate-700 mb-6 animate-fade-in">
                    <strong class="block text-slate-900 mb-1">Explanation:</strong>
                    <span id="explanation-text"></span>
                </div>

                <!-- Action Area -->
                <div class="mt-auto pt-4 flex justify-end">
                    <button id="submit-btn" onclick="quizApp.checkAnswer()" class="bg-slate-800 hover:bg-slate-900 text-white font-medium py-2 px-6 rounded shadow disabled:opacity-50 disabled:cursor-not-allowed">
                        Check Answer
                    </button>
                    <button id="next-btn" onclick="quizApp.nextQuestion()" class="hidden bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded shadow ml-3">
                        Next Question ‚ûú
                    </button>
                </div>
            </div>
        </div>

        <!-- View: Result Screen -->
        <div id="result-screen" class="hidden flex-1 flex flex-col items-center justify-center p-8 text-center bg-gray-50">
            <h2 class="text-3xl font-bold text-gray-800 mb-2">Quiz Completed!</h2>
            <p class="text-gray-600 mb-6">Here is how you performed on these concepts.</p>

            <!-- Chart Container -->
            <div class="chart-container relative w-full max-w-[250px] aspect-square mx-auto mb-6">
                <canvas id="scoreChart"></canvas>
            </div>

            <div class="text-xl font-bold text-slate-800 mb-8">
                Your Score: <span id="final-score" class="text-indigo-600"></span>
            </div>

            <button onclick="quizApp.restartQuiz()" class="bg-white border-2 border-indigo-600 text-indigo-600 hover:bg-indigo-50 font-semibold py-2 px-8 rounded-full transition-colors">
                Retake Quiz
            </button>
        </div>

    </div>

    <!-- JavaScript Logic -->
    <script>
        const quizData = [
            {
                question: "Right to Privacy is protected as an intrinsic part of Right to Life and Personal Liberty. Which of the following in the Constitution of India correctly and appropriately imply the above statement? (UPSC 2018)",
                options: [
                    "Article 14 and the provisions under the 42nd Amendment",
                    "Article 17 and the Directive Principles of State Policy in Part IV",
                    "Article 21 and the freedoms guaranteed in Part III",
                    "Article 24 and the provisions under the 44th Amendment"
                ],
                correct: 2,
                explanation: "In the landmark K.S. Puttaswamy judgment (2017), the Supreme Court declared the Right to Privacy as a fundamental right protected under Article 21 (Right to Life and Personal Liberty) and as an intrinsic part of the freedoms guaranteed by Part III of the Constitution."
            },
            {
                question: "We adopted parliamentary democracy based on the British model, but how does our model differ from that model? (UPSC 2021)",
                options: [
                    "As regards legislation, the British Parliament is supreme or sovereign but in India, the power of the Parliament to legislate is limited.",
                    "In India, matters related to the constitutionality of the Amendment of an Act of the Parliament are referred to the Constitution Bench by the Supreme Court.",
                    "Both 1 and 2",
                    "Neither 1 nor 2"
                ],
                correct: 2, // Technically Both are correct statements in context of difference.
                explanation: "1) British Parliament is sovereign, but Indian Parliament's powers are limited by the written Constitution (Judicial Review). 2) Constitutional amendments/validity are indeed reviewed by the Supreme Court (Constitution Bench). Therefore, both statements highlight the differences."
            },
            {
                question: "Which one of the following objectives is not embodied in the Preamble to the Constitution of India? (UPSC 2017)",
                options: [
                    "Liberty of thought",
                    "Economic liberty",
                    "Liberty of expression",
                    "Liberty of belief"
                ],
                correct: 1,
                explanation: "The Preamble secures to all citizens: Justice (Social, Economic, Political), Liberty of (Thought, Expression, Belief, Faith, and Worship), Equality of (Status and Opportunity), and Fraternity. 'Economic Liberty' is NOT mentioned; 'Economic Justice' is."
            },
            {
                question: "The Ninth Schedule was introduced in the Constitution of India during the prime ministership of: (UPSC 2019)",
                options: [
                    "Jawaharlal Nehru",
                    "Lal Bahadur Shastri",
                    "Indira Gandhi",
                    "Morarji Desai"
                ],
                correct: 0,
                explanation: "The Ninth Schedule was added by the 1st Constitutional Amendment Act, 1951, to protect land reform laws from judicial scrutiny. Jawaharlal Nehru was the Prime Minister at that time."
            },
            {
                question: "Which one of the following is NOT a feature of Indian federalism? (UPSC 2017)",
                options: [
                    "There is an independent judiciary in India.",
                    "Powers have been clearly divided between the Centre and the States.",
                    "The federating units have been given unequal representation in the Rajya Sabha.",
                    "It is the result of an agreement among the federating units."
                ],
                correct: 3,
                explanation: "Unlike the American federation, the Indian federation is NOT the result of an agreement among the states. Article 1 describes India as a 'Union of States', implying the federation is indestructible."
            },
            {
                question: "A Parliamentary System of Government is one in which: (UPSC 2020)",
                options: [
                    "All political parties in the Parliament are represented in the Government",
                    "The Government is responsible to the Parliament and can be removed by it",
                    "The Government is elected by the people and can be removed by them",
                    "The Government is chosen by the Parliament but cannot be removed by it before completion of a fixed term"
                ],
                correct: 1,
                explanation: "The core principle of a Parliamentary system is 'Collective Responsibility'. The Executive (Council of Ministers) is responsible to the Legislature (specifically Lok Sabha) and can be removed via a No-Confidence Motion."
            },
            {
                question: "Consider the following statements regarding the Directive Principles of State Policy (DPSP): 1) The Principles spell out the socio-economic democracy in the country. 2) The provisions contained in these Principles are not enforceable by any court. (UPSC 2015)",
                options: [
                    "1 only",
                    "2 only",
                    "Both 1 and 2",
                    "Neither 1 nor 2"
                ],
                correct: 2,
                explanation: "Statement 1 is correct: DPSP aims at a welfare state (socio-economic democracy), whereas Fundamental Rights aim at political democracy. Statement 2 is correct: Article 37 declares DPSP as fundamental in governance but non-justiciable (not enforceable by courts)."
            }
        ];

        const quizApp = {
            currentQuestionIndex: 0,
            score: 0,
            userAnswers: [],
            chartInstance: null,

            init: function() {
                // DOM Elements
                this.screens = {
                    start: document.getElementById('start-screen'),
                    quiz: document.getElementById('quiz-screen'),
                    result: document.getElementById('result-screen')
                };
                this.badge = document.getElementById('header-badge');
                this.progressBar = document.getElementById('progress-bar');
            },

            startQuiz: function() {
                this.currentQuestionIndex = 0;
                this.score = 0;
                this.userAnswers = [];
                this.screens.start.classList.add('hidden');
                this.screens.result.classList.add('hidden');
                this.screens.quiz.classList.remove('hidden');
                this.badge.classList.remove('hidden');
                this.renderQuestion();
            },

            renderQuestion: function() {
                const q = quizData[this.currentQuestionIndex];
                
                // Update Progress
                const progress = ((this.currentQuestionIndex) / quizData.length) * 100;
                this.progressBar.style.width = `${progress}%`;
                
                // Update Text
                document.getElementById('question-counter').textContent = `Question ${this.currentQuestionIndex + 1}/${quizData.length}`;
                document.getElementById('score-display').textContent = `Score: ${this.score}`;
                document.getElementById('question-text').textContent = q.question;

                // Reset Interface
                document.getElementById('explanation-box').classList.add('hidden');
                document.getElementById('next-btn').classList.add('hidden');
                document.getElementById('submit-btn').classList.remove('hidden');
                document.getElementById('submit-btn').disabled = true;

                // Render Options
                const container = document.getElementById('options-container');
                container.innerHTML = '';
                
                q.options.forEach((opt, index) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-card border-2 border-gray-200 rounded-lg p-4 text-gray-700 font-medium flex items-center';
                    btn.innerHTML = `
                        <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex items-center justify-center flex-shrink-0 option-circle"></div>
                        <span>${opt}</span>
                    `;
                    btn.onclick = () => this.selectOption(index, btn);
                    container.appendChild(btn);
                });
            },

            selectOption: function(index, btnElement) {
                // Remove selected class from all
                const options = document.querySelectorAll('.option-card');
                options.forEach(opt => {
                    opt.classList.remove('selected');
                    opt.querySelector('.option-circle').classList.remove('bg-indigo-600', 'border-indigo-600');
                });

                // Add to current
                btnElement.classList.add('selected');
                btnElement.querySelector('.option-circle').classList.add('bg-indigo-600', 'border-indigo-600');
                
                this.selectedOptionIndex = index;
                document.getElementById('submit-btn').disabled = false;
            },

            checkAnswer: function() {
                const q = quizData[this.currentQuestionIndex];
                const options = document.querySelectorAll('.option-card');
                
                // Disable all options
                options.forEach(opt => opt.classList.add('disabled'));

                // Validate
                const isCorrect = this.selectedOptionIndex === q.correct;
                
                if (isCorrect) {
                    this.score++;
                    options[this.selectedOptionIndex].classList.add('correct');
                    options[this.selectedOptionIndex].querySelector('.option-circle').innerHTML = '‚úì';
                    options[this.selectedOptionIndex].querySelector('.option-circle').classList.replace('bg-indigo-600', 'bg-green-500');
                    options[this.selectedOptionIndex].querySelector('.option-circle').classList.replace('border-indigo-600', 'border-green-500');
                    options[this.selectedOptionIndex].querySelector('.option-circle').classList.add('text-white');
                } else {
                    options[this.selectedOptionIndex].classList.add('wrong');
                    options[this.selectedOptionIndex].querySelector('.option-circle').innerHTML = '‚úó';
                    options[this.selectedOptionIndex].querySelector('.option-circle').classList.replace('bg-indigo-600', 'bg-red-500');
                    options[this.selectedOptionIndex].querySelector('.option-circle').classList.replace('border-indigo-600', 'border-red-500');
                    options[this.selectedOptionIndex].querySelector('.option-circle').classList.add('text-white');

                    // Highlight correct one
                    options[q.correct].classList.add('correct');
                }

                document.getElementById('score-display').textContent = `Score: ${this.score}`;

                // Show Explanation
                const expBox = document.getElementById('explanation-box');
                const expText = document.getElementById('explanation-text');
                expText.textContent = q.explanation;
                expBox.classList.remove('hidden');

                // Buttons
                document.getElementById('submit-btn').classList.add('hidden');
                document.getElementById('next-btn').classList.remove('hidden');
            },

            nextQuestion: function() {
                this.currentQuestionIndex++;
                if (this.currentQuestionIndex < quizData.length) {
                    this.renderQuestion();
                } else {
                    this.showResults();
                }
            },

            showResults: function() {
                this.screens.quiz.classList.add('hidden');
                this.screens.result.classList.remove('hidden');
                document.getElementById('final-score').textContent = `${this.score} / ${quizData.length}`;

                // Render Chart
                const ctx = document.getElementById('scoreChart').getContext('2d');
                if(this.chartInstance) this.chartInstance.destroy();

                const empty = quizData.length - this.score;
                
                this.chartInstance = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Correct', 'Incorrect'],
                        datasets: [{
                            data: [this.score, empty],
                            backgroundColor: ['#4f46e5', '#e5e7eb'],
                            borderWidth: 0,
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            },

            restartQuiz: function() {
                this.startQuiz();
            }
        };

        // Initialize on load
        quizApp.init();

    </script>
</body>
</html>